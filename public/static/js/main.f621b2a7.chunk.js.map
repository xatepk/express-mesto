{"version":3,"sources":["utils/api.js","images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmationPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","options","this","_options","_baseUrl","baseUrl","_headers","headers","promises","getInitialUsers","getInitialCards","Promise","all","fetch","then","res","ok","json","reject","status","name","about","method","body","JSON","stringify","avatar","link","id","isLiked","likes","authorization","Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","some","i","onClick","onCardClick","cn","aria-label","type","onCardLike","length","onCardDelete","Main","style","backgroundImage","backgroundSize","onEditAvatar","onEditProfile","onAddPlace","cards","map","Footer","ImagePopup","isOpen","img","onClose","PopupWithForm","action","noValidate","onSubmit","title","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","target","placeholder","required","minLength","maxLength","autoComplete","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","placeRef","urlRef","ConfirmationPopup","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","result","catch","err","console","log","closeAllPopups","Provider","changeLikeCardStatus","newCard","newCards","c","delCard","filter","userInfo","saveUserInfo","postNewCard","saveUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f621b2a7.chunk.js","sourcesContent":["class Api{\n  constructor(options) {\n    this._options = options;\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  getPromises() {\n    const promises = [this.getInitialUsers(), this.getInitialCards()];\n   return Promise.all(promises);\n  }\n\n  getInitialUsers() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Ошибка: ${res.status}`);\n      });\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Ошибка: ${res.status}`);\n      });\n  }\n\n  saveUserInfo({ name, about }) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Ошибка: ${res.status}`);\n      });\n  }\n\n  saveUserAvatar({ avatar }) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar\n      })\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Ошибка: ${res.status}`);\n      });\n  }\n\n  postNewCard({ name, link }) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Ошибка: ${res.status}`);\n      });\n  }\n\n  delCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Ошибка: ${res.status}`);\n      });\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n      method: isLiked ? 'PUT' : 'DELETE',\n      headers: this._headers\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Ошибка: ${res.status}`);\n      });\n  }\n\n  likeCard(likes, id) {\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n      method: 'PUT',\n      headers: this._headers,\n      body: JSON.stringify({\n        likes: likes\n      })\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Ошибка: ${res.status}`);\n      });\n  }\n\n  dislikeCard(likes, id) {\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Ошибка: ${res.status}`);\n      });\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-17',\n  headers: {\n    authorization: '21eb34d7-a814-4066-9679-9fbe4fccc6eb',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;\n\n\n","export default __webpack_public_path__ + \"static/media/header-logo.ff16f24b.svg\";","import logo from '../images/header-logo.svg';\n\nfunction Header() {\n    return(\n    <header className=\"header\">\n      <img src={logo} alt=\"логотип\" className=\"header__logo\" />\n    </header>\n    )\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import cn from 'classnames';\nimport React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = props.card.owner._id === currentUser._id;\n\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <li className=\"place\">\n      <img className=\"place__image\" alt={props.card.name} src={props.card.link} onClick={props.onCardClick} />\n      <div className=\"place__description\">\n        <h2 className=\"place__name\">{props.card.name}</h2>\n        <div className=\"place__likes\">\n          <button className={cn(\"place__icon\", { \"place__icon_is-active\" : isLiked })}aria-label=\"place-icon\" type=\"button\" onClick={handleLikeClick}></button>\n          <span className=\"place__likes-count\">{props.card.likes.length}</span>\n        </div>\n      </div>\n      <button className={cn(\"place__delete\", { \"place__delete_visible\" : isOwn })} aria-label=\"place-del\" type=\"button\" onClick={handleDeleteClick}></button>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return(\n  <main className=\"content\">\n    <section className=\"profile\">\n      <div className=\"profile__view\">\n        <div style={{ backgroundImage: `url(${currentUser.avatar})`,\n                      backgroundSize: 'cover' }}\n                      className=\"profile__avatar\" />\n        <button className=\"profile__edit-avatar\"\n                aria-label=\"edit\"\n                type=\"button\"\n                onClick={props.onEditAvatar} />\n        <div className=\"profile__info\">\n          <div className=\"profile__heading\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button onClick={props.onEditProfile}\n                    className=\"profile__edit-button\"\n                    aria-label=\"edit\"\n                    type=\"button\" />\n          </div>\n          <p className=\"profile__about-self\">{currentUser.about}</p>\n        </div>\n      </div>\n\n      <button className=\"profile__add-button\"\n              onClick={props.onAddPlace}\n              aria-label=\"add\"\n              type=\"button\" />\n    </section>\n    <section className=\"places\">\n      <ul className=\"places__list\">\n        {props.cards.map((card) => <Card key={card._id}\n                                      card={card}\n                                      onCardClick={props.onCardClick}\n                                      onCardLike={props.onCardLike}\n                                      onCardDelete={props.onCardDelete} />)}\n      </ul>\n    </section>\n  </main>\n  )\n}\n\nexport default Main;\n","function Footer() {\n    return(\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020. Mesto Russia</p>\n    </footer>\n    )\n}\n\nexport default Footer;\n","import cn from 'classnames';\n\nfunction ImagePopup(props) {\n  return (\n  <div className={cn(\"popup popup_el_card\", { \"popup_opened\" : props.card.isOpen})}>\n    <div className=\"popup__container popup__container_transparent\">\n      <img className=\"popup__card-image\" alt={props.card.img.alt} src={props.card.img.src} />\n      <p className=\"popup__card-heading\">{props.card.img.alt}</p>\n      <button type=\"button\" aria-label=\"close\" className=\"popup__close\" onClick={props.onClose} />\n    </div>\n  </div>\n  );\n}\n\nexport default ImagePopup;\n","import cn from 'classnames';\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={cn(`popup popup_el_${props.name}`, { \"popup_opened\": props.isOpen })}>\n    <div className=\"popup__container\">\n      <form className=\"popup__form\" method=\"POST\" action=\"#\" name={props.name} noValidate onSubmit={props.onSubmit}>\n        <h2 className=\"popup__heading\">{props.title}</h2>\n        {props.children}\n      </form>\n      <button type=\"button\" aria-label=\"close\" className=\"popup__close\" onClick={props.onClose}></button>\n    </div>\n  </div>\n  );\n}\n\nexport default PopupWithForm;\n","import PopupWithForm from './PopupWithForm';\nimport React, { useEffect, useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const [name, setName] = React.useState(currentUser.name);\n  const [description, setDescription] = React.useState(currentUser.about);\n\n\n  useEffect(() => {\n    if (!props.isOpen) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n  }, [currentUser, props]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n  \n  return (\n  <PopupWithForm name=\"edit\" title=\"Редактировать профиль\" {...props} onSubmit={handleSubmit}>\n      <input  name=\"name\" value={name} onChange={handleNameChange}\n              className=\"popup__item popup__item_el_name popup__input\"\n              placeholder=\"Ваше Имя\" id=\"name-input\" required minLength=\"2\" maxLength=\"40\" autoComplete=\"off\" type=\"text\" />\n      <span className='popup__input-error' id='name-input-error'></span>\n      <input  name=\"about-self\" value={description} onChange={handleDescriptionChange}\n              className=\"popup__item popup__item_el_about-self popup__input\"\n              placeholder=\"О себе\" id=\"about-self-input\" required minLength=\"2\" maxLength=\"200\" autoComplete=\"off\" type=\"text\" />\n      <span className='popup__input-error' id='about-self-input-error'></span>\n      <input className=\"popup__button\" type=\"submit\" value= \"Сохранить\" />\n  </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" {...props} onSubmit={handleSubmit}>\n      <input  ref={avatarRef}\n              name=\"avatar-url\"\n              className=\"popup__item popup__item_el_url popup__input\"\n              placeholder=\"Ссылка на картинку\" id=\"avatar-url-input\" required autoComplete=\"off\" type=\"url\" />\n      <span className='popup__input-error' id='avatar-url-input-error'></span>\n      <input  className=\"popup__button\" type=\"submit\" value= \"Сохранить\" />\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\n\nfunction AddPlacePopup(props) {\n  const placeRef = React.useRef();\n  const urlRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onAddPlace({\n      name: placeRef.current.value,\n      link: urlRef.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"add\" title=\"Новое место\" {...props} onSubmit={handleSubmit} >\n      <input  ref={placeRef}\n              name=\"place\"\n              className=\"popup__item popup__item_el_name popup__input\"\n              placeholder=\"Название\" id=\"place-input\" required minLength=\"2\" maxLength=\"30\" autoComplete=\"off\" type=\"text\" />\n      <span className='popup__input-error' id='place-input-error'></span>\n      <input  ref={urlRef}\n              name=\"place-url\"\n              className=\"popup__item popup__item_el_url popup__input\"\n              placeholder=\"Ссылка на картинку\" id=\"place-url-input\" required autoComplete=\"off\" type=\"url\" />\n      <span className='popup__input-error' id='place-url-input-error'></span>\n      <input className=\"popup__button\" type=\"submit\" value= \"Создать\" />\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;\n","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\n\nfunction ConfirmationPopup() {\n  return (\n    <PopupWithForm name=\"del\" title=\"Вы уверены?\">\n      <input type=\"submit\" value= \"Да\" className=\"popup__confirmation-button\" />\n    </PopupWithForm>\n  )\n}\n\nexport default ConfirmationPopup;\n","import React, { useState, useEffect } from 'react';\nimport '../index.css';\nimport api from '../utils/api.js';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmationPopup from './ConfirmationPopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({isOpen: false, img:{}});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n\n  useEffect( () => {\n    api.getInitialCards()\n    .then((result) => {\n      setCards(result);\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n\n    api.getInitialUsers()\n    .then((result) => {\n      setCurrentUser(result);\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }, [])\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  const handleCardClick = (e) => {\n    console.log(e);\n    setSelectedCard({...setSelectedCard, isOpen:true, img: e.target} );\n  }\n\n  const closeAllPopups = () => {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard({isOpen: false, img:{}});\n  }\n\n  function handleUpdateUser(userInfo) {\n    api.saveUserInfo(userInfo)\n    .then((result) => {\n      setCurrentUser(result);\n      setIsEditProfilePopupOpen(false);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleUpdateAvatar(avatar) {\n    api.saveUserAvatar(avatar)\n    .then(() => {\n      setIsEditAvatarPopupOpen(false);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleAddPlaceSubmit(newCard) {\n    api.postNewCard(newCard)\n    .then((newCard) => {\n      setCards([newCard, ...cards]);\n      setIsAddPlacePopupOpen(false);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, !isLiked)\n    .then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleCardDelete(card) {\n    api.delCard(card._id)\n    .then(() => {\n      const newCards = cards.filter((c) => c._id !== card._id);\n      setCards(newCards);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  return (\n  <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"page\">\n    <Header />\n    <Main onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete} />\n    <EditProfilePopup isOpen={isEditProfilePopupOpen}\n                      onClose={closeAllPopups}\n                      onUpdateUser={handleUpdateUser} />\n    <AddPlacePopup  isOpen={isAddPlacePopupOpen}\n                    onClose={closeAllPopups}\n                    onAddPlace={handleAddPlaceSubmit} />\n    <ConfirmationPopup />\n    <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n    <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n    <Footer />\n    </div>\n  </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}